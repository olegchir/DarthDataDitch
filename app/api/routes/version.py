from fastapi import APIRouter, Depends
from fastapi.responses import PlainTextResponse
from app.utils import auth
from app.utils.config import APP_VERSION
from textwrap import dedent
router = APIRouter()

@router.get("/version")
def version(user: str = Depends(auth.get_current_user)):
    version = dedent(f"""
Welcome to the Star Wars API! ver. {APP_VERSION}
   

                                      .--.
                                      |  |
                                     ||  ||
                                     ||::||
                                     ||::||
                                    | |::| |
                                    | |__| |
                                    |/:  :\|
                                     |:  :|
                                     |:  :|
                                     |:  :|
                                     |:  :|
                                    .|:  :|.
                                    | :  : |
                                    | :  : |
                                    |:    :|
   |                                |:    :|                                |
   |                                |:    :|                                |
  _|_                              .|:    :|.                              _|_
  |_|                              |#:    :#|                              |_|
  /_\                              |#:    :#|                              /_\
   |                               |#:    :#|                               |
   |                               |#:    :#|                               |
   |                               |#:    :#|                               |
   |                               |#______#|                               |
   |                              .||,----.||.                              |
   |                              | ||    || |                              |
  .|.                             | ||    || |                             .|.
  | |                             |.||    ||.|                             | |
  | |                            .:|||    |||:.                            | |
  | |                            |:|||____|||:|                            | |
  | |                            |:||......||:|                            | |
  | |                            |:||> __ <||:|                            | |
  | |                            |:\| /__\ |/:|                            | |
 _|_|_                           |: \`----'/ :|                           _|_|_
[_____]                          |:  | ,. |  :|                          [_____]
| ::: |                   .------.:  [(  )]  :.------.                   | ::: |
|.===.|                   |      || [| `' |  ||      |                   |.===,|
| ) ( |___________________|::::::|| [|`--'|  ||::::::|___________________| ) ( |
|,===.|__#####________|   |  .. /|| [|  ..|  ||  .. /|   |________#####__|.===.|
||   ||  #####  :.:   |   | ,''.\|| [|:.  |  || ,''.\|   |   :.:  #####  ||   ||
| \ / |  #####  :.:   |   | |  | || [|':. |  || |  | |   |   :.:  #####  | \ / |
| [_] |  ######.: :   |   | |  |<|| [| .: |  || |  |<|   |   : :,######  | [_] |
|_[_]_|  :  # ##### . |   | `--' || [| :' |  || `--' |   | , ##### #  :  |_[_]_|
 |___|--.:_ # # # #   |   ||||:::|| [| :. |  ||::::::|   |   # # # # _:.--|___|
  )_(      `"-#_# #   |     |  |  | [|  : |  |  |  |     |   # #_#-"'      )_(
 |___|           `"-._|_____|  |__| [|  `:|  |__|  |_____|_,-"'           |___|
                       `--| |  |  \\ |____| //  |  | |--'
                            |  |   \\|::::|//   |  |
                            |__|    \\:::://    |__|
                            [__]       ""       [__]
                            ||||                ||||
                            ||||                ||||




""")

    return PlainTextResponse(content=version)
